<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\..\FrameXML\UI.xsd">
	<Script file="CommunitiesCreateFrame.lua"/>
	
	<ScopedModifier forbidden="true" scriptsUseGivenEnv="true">
		<Frame name="CommunitiesCreateDialog" enableMouse="true" frameStrata="DIALOG" mixin="CommunitiesCreateDialogMixin" hidden="true">
			<Size x="400" y="280"/>
			<Anchors>
				<Anchor point="CENTER" relativeTo="UIParent" y="100"/>
			</Anchors>
			<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
				<BackgroundInsets left="11" right="12" top="12" bottom="11"/>
				<TileSize val="32"/>
				<EdgeSize val="32"/>
			</Backdrop>
			<Layers>
				<Layer level="ARTWORK">
					<FontString parentKey="NameLabel" text="CREATE_COMMUNITY_DIALOG_NAME_LABEL" inherits="GameFontHighlight">
						<Size x="300" y="0"/>
						<Anchors>
							<Anchor point="TOP" x="0" y="-20"/>
						</Anchors>
					</FontString>
					<FontString parentKey="DescriptionLabel" text="CREATE_COMMUNITY_DIALOG_DESCRIPTION_LABEL" inherits="GameFontHighlight">
						<Size x="300" y="0"/>
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.NameLabel" relativePoint="BOTTOM" x="0" y="-34"/>
						</Anchors>
					</FontString>
					<FontString parentKey="IconLabel" text="CREATE_COMMUNITY_DIALOG_ICON_LABEL" justifyH="LEFT" inherits="GameFontHighlight">
						<Size x="150" y="0"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.DescriptionLabel" relativePoint="BOTTOMLEFT" x="0" y="-90"/>
						</Anchors>
					</FontString>
					<FontString parentKey="TypeLabel" text="CREATE_COMMUNITY_DIALOG_TYPE_LABEL" justifyH="RIGHT" inherits="GameFontHighlight">
						<Size x="150" y="0"/>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeKey="$parent.DescriptionLabel" relativePoint="BOTTOMRIGHT" x="0" y="-90"/>
						</Anchors>
					</FontString>
				</Layer>
			</Layers>
			<Frames>
				<EditBox parentKey="NameBox" autoFocus="false" inherits="InputBoxTemplate">
					<Size x="300" y="22"/>
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent.NameLabel" relativePoint="BOTTOM" x="0" y="-2"/>
					</Anchors>
					<Scripts>
						<OnShow>
							self:SetFocus();
						</OnShow>
						<OnTabPressed>
							self:GetParent().DescriptionFrame.EditBox:SetFocus();
						</OnTabPressed>
					</Scripts>
				</EditBox>
				<ScrollFrame parentKey="DescriptionFrame" inherits="InputScrollFrameTemplate">
					<Size x="300" y="60"/>
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent.DescriptionLabel" relativePoint="BOTTOM" x="0" y="-8"/>
					</Anchors>
					<KeyValues>
						<KeyValue key="maxLetters" value="255" type="number"/>
						<KeyValue key="instructions" value="CREATE_COMMUNITY_DIALOG_DESCRIPTION_INSTRUCTIONS" type="global"/>
						<KeyValue key="hideCharCount" value="true" type="boolean"/>
					</KeyValues>
					<Scripts>
						<OnLoad>
							self.EditBox:SetScript("OnTabPressed", function(self)
								self:GetParent():GetParent().NameBox:SetFocus();
							end);
							InputScrollFrame_OnLoad(self);
						</OnLoad>
					</Scripts>
				</ScrollFrame>
				<EditBox parentKey="AvatarSelectionBox" letters="3" numeric="true" autoFocus="false" inherits="InputBoxTemplate">
					<Size x="40" y="40"/>
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent.IconLabel" relativePoint="BOTTOM" x="0" y="4"/>
					</Anchors>
					<Scripts>
						<OnShow>
							-- TODO:: Replace this with some kind of proper default selection (avatar Ids are not guranteed to be sequential).
							local avatarIdList = C_Club.GetAvatarIdList(Enum.ClubType.BattleNet);
							self:SetText(math.random(1, avatarIdList and #avatarIdList or 1));
						</OnShow>
					</Scripts>
				</EditBox>
				<CheckButton parentKey="TypeCheckBox" inherits="UICheckButtonTemplate">
					<Size x="32" y="32"/>
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent.TypeLabel" relativePoint="BOTTOM" x="0" y="-1"/>
					</Anchors>
				</CheckButton>
				<Button parentKey="CreateButton" inherits="UIPanelButtonNoTooltipTemplate" text="COMMUNITIES_CREATE_COMMUNITY">
					<Size x="160" y="22"/>
					<Anchors>
						<Anchor point="BOTTOM" x="-90" y="30"/>
					</Anchors>
					<Scripts>
						<OnClick function="CommunitiesCreateDialogCreateButton_OnClick"/>
					</Scripts>
				</Button>
				<Button parentKey="CancelButton" inherits="UIPanelButtonNoTooltipTemplate" text="CANCEL">
					<Size x="160" y="22"/>
					<Anchors>
						<Anchor point="BOTTOM" x="90" y="30"/>
					</Anchors>
					<Scripts>
						<OnClick function="CommunitiesCreateDialogCancelButton_OnClick"/>
					</Scripts>
				</Button>
			</Frames>
			<Scripts>
				<OnShow method="OnShow"/>
				<OnAttributeChanged method="OnAttributeChanged"/>
				<OnHide method="OnHide"/>
			</Scripts>
		</Frame>
	</ScopedModifier>
</Ui>